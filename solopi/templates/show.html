{% extends 'base.html' %}
{% block title %}
图片
{% endblock %}
{% block head %}
<script src="https://cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script>
<script type="text/javascript" src="https://assets.pyecharts.org/assets/echarts.min.js"></script>
{% endblock head %}
{% block body %}
<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="#">soloπ</a>
        </div>
        <div class="collapse navbar-collapse" id="example-navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="#" onClick="javascript :history.back(-1);">返回上一级</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container">
    <div id="bar" style="width:1000px; height:600px;"></div>
    <script>
        $(
            function () {
                var chart = echarts.init(document.getElementById('bar'), 'white', { renderer: 'canvas' });
                $.ajax({
                    type: "GET",
                    url: "{{ url_for('solo.chart',id=id) }}",
                    dataType: 'json',
                    success: function (result) {
                        chart.setOption(result);
                    }
                });
            }
        )
    </script>
</div>
{% endblock %}